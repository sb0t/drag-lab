<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Drag Lab</title>
        <link rel="stylesheet" href="style.css">
        <script defer src="script.js"></script>
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js"></script>
    </head>
    <body>
        <pre>                                                                                        
_______                                           .---.                     
\  ___ `'.                                        |   |          /|         
 ' |--.\  \                     .--./)            |   |          ||         
 | |    \  ' .-,.--.           /.''\\             |   |          ||         
 | |     |  '|  .-. |    __   | |  | |            |   |    __    ||  __     
 | |     |  || |  | | .:--.'.  \`-' /             |   | .:--.'.  ||/'__ '.  
 | |     ' .'| |  | |/ |   \ | /("'`              |   |/ |   \ | |:/`  '. ' 
 | |___.' /' | |  '- `" __ | | \ '---.            |   |`" __ | | ||     | | 
/_______.'/  | |      .'.''| |  /'""'.\           |   | .'.''| | ||\    / ' 
\_______|/   | |     / /   | |_||     ||          '---'/ /   | |_|/\'..' /  
             |_|     \ \._,\ '/\'. __//                \ \._,\ '/'  `'-'`   
                      `--'  `"  `'---'                  `--'  `"            
        </pre>
        <div id="slide">
            <div id="vars">
                <h3>variables</h3>
                <hr>
                <form>
                    <div class="vr">
                        <!--Variable Row-->
                        <label>
                            Mass: 
                            <span class="unit">(kg)</span>
                        </label>
                        <input name="m" type="number" value="10" step="1" min="0">
                    </div>
                    <div class="vr">
                        <label>
                            Angle: 
                            <span class="unit">(°)</span>
                        </label>
                        <input name="B" type="number" value="45" step="1">
                    </div>
                    <div class="vr">
                        <label>
                            Coefficient of Friction: 
                        </label>
                        <input name="u" type="number" value="0.45" step="0.01" min="0">
                    </div>
                    <div class="vr">
                        <label>
                            Area: 
                            <span class="unit">(m²)</span>
                        </label>
                        <input name="A" type="number" value="0.01" step="0.01" min="0">
                    </div>
                    <div class="vr">
                        <label>
                            Initial Velocity: 
                            <span class="unit">(m/s)</span>
                        </label>
                        <input name="v0" type="number" value="20" step="1">
                    </div>
                    <div class="vr">
                        <label>
                            Fluid Density: 
                            <span class="unit">(kg/m³)</span>
                        </label>
                        <input name="p" type="number" value="1.3" step="0.1" min="0">
                    </div>
                    <div class="vr">
                        <label>
                            Time Interval: 
                            <span class="unit">(s)</span>
                        </label>
                        <input name="dt" type="number" value="0.001" step="0.001" min="0">
                    </div>
                    <div class="vr">
                        <label>
                            Gravity:
                            <span class="unit">(m/s²)</span>
                        </label>
                        <input name="g" type="number" value="9.807" step="0.003">
                    </div>
                    <div class="vr">
                        <label>
                            Graph Style: 
                        </label>
                        <select name="gs">
                            <option value="xy">cartesian</option>
                            <option value="pt" selected="selected">position-time</option>
                            <option value="vt">velocity-time</option>
                            <option value="at">acceleration-time</option>                        
                        </select>
                    </div>
                    <div class="vr">
                        <label>
                            Pre-Generate:
                            <span class="unit">(columns)</span>
                        </label>
                        <input name="pg" type="number" value="1" step="100" min="0">
                    </div>
                </form>
            </div>
            <div id="graph" class="hide">
                <div id="thumb">
                    <!--Thumbnail-->
                    <div id="thumb-txt">scroll to generate</div>
                </div>
                <div id="graph-wrap" class="hide">
                    <button id="menu" onclick="toggleMenu()">㆔</button>
                    <div id="graph-items" class="hide">
                        <button id="float">&#128204;&#xfe0e;</button>
                        <button id="move">↔</button>
                    </div>
                </div>
                <canvas class="hide"></canvas>
            </div>
        </div>
        <input id="run" type="button" value="run" onclick="main()">
        <input id="top" class="hide" type="button" value="top" onclick="toTop()">
        <div id="hidden-header" class="hide">
            <hr>
            <input id="export" type="button" value="export .csv" onclick="toCSV()">
        </div>
        <table class="hide">
            <thead>
                <tr>
                    <th>Time</th>
                    <th>
                        <span class="tooltip">
                            <u>Angle</u>
                            <span class="tooltiptext top">$$\beta = \arctan\biggl(\frac{v_y}{v_x}\biggr)$$</span>
                        </span>
                    </th>
                    <th>
                        <span class="tooltip">
                            <u>X Acceleration</u>
                            <span class="tooltiptext top">$$a_x = -\cos(\beta)\cdot p\cdot v^2\cdot\mu\cdot A/(2\cdot m)$$</span>
                        </span>
                    </th>
                    <th>
                        <span class="tooltip">
                            <u>Y Acceleration</u>
                            <span class="tooltiptext top">$$a_y = -\sin(\beta)\cdot p\cdot v^2\cdot\mu\cdot A/(2\cdot m)-g$$</span>
                        </span>
                    </th>
                    <th>
                        <span class="tooltip">
                            <u>Velocity</u>
                            <span class="tooltiptext top">$$v = \sqrt{v_x^2+v_y^2}$$</span>
                        </span>
                    </th>
                    <th>
                        <span class="tooltip">
                            <u>X Velocity</u>
                            <span class="tooltiptext top">$$v_x = pv_x+a_x\cdot dt$$</span>
                        </span>
                    </th>
                    <th>
                        <span class="tooltip">
                            <u>Y Velocity</u>
                            <span class="tooltiptext top">$$v_y = pv_y+a_y\cdot dt$$</span>
                        </span>
                    </th>
                    <th>
                        <span class="tooltip">
                            <u>X Position</u>
                            <span class="tooltiptext top">$$x = px+v_x\cdot dt+a_x\cdot dt^2/2$$</span>
                        </span>
                    </th>
                    <th>
                        <span class="tooltip">
                            <u>Y Position</u>
                            <span class="tooltiptext left">$$y = py+v_y\cdot dt+a_y\cdot dt^2/2$$</span>
                        </span>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr id="show"></tr>
            </tbody>
        </table>
    </body>
</html>